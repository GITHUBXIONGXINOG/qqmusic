(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24b0553d"],{d179:function(t,e,n){},ed90:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"radioStation"},[n("div",{staticClass:"radio-station-inner"},[n("radio-station-title",{on:{contentList:t.contentList}}),n("radio-station-content",{attrs:{storeContent:t.storeContent}})],1)])},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"radio-station-title ",attrs:{id:"station-nav"}},[n("div",{staticClass:"title-wrap",class:{isFixed:t.stationNavFixed,isEnd:t.stationNavEnd}},t._l(t.titleList,(function(e,i){return n("div",{key:i,staticClass:"title-info"},[n("a",{class:{selectTitle:t.activeIndex==i},attrs:{href:t.idList[i]},on:{click:function(e){return t.selectCurrentTitle(i)}}},[t._v(t._s(e.title))])])})),0)])},a=[],r=(n("4160"),n("159b"),n("96cf"),n("1da1")),c={data:function(){return{titleListTemp:[],titleList:[],stationNavFixed:!1,stationNavEnd:!1,activeIndex:0,idList:["#hot","#theme","#mood","#scenes","#genre","#language","#crowd","#instrument"],hotTop:0,themeTop:0,moodTop:0,scenesTop:0,genreTop:0,languageTop:0,crowdTop:0,instrumentTop:0,endTop:0}},methods:{fetchApi:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("titleListTemp"),!n){e.next=6;break}n=JSON.parse(n),(new Date).getTime()-n.time<18e5&&(t.titleListTemp=n.data),e.next=11;break;case 6:return i="/api/radio/category",e.next=9,t.$http.get(i);case 9:s=e.sent,100===parseInt(s.data.result)&&(t.titleListTemp=s.data.data,localStorage.setItem("titleListTemp",JSON.stringify({time:(new Date).getTime(),data:t.titleListTemp})));case 11:case"end":return e.stop()}}),e)})))()},handleScroll:function(){if(document.querySelector("#station-nav")){var t=window.pageYOffset||document.documentElement.scrollTop,e=document.querySelector("#station-nav").offsetTop+150;t>e?(this.stationNavFixed=!0,t<=this.themeTop?this.activeIndex=0:t>this.themeTop&&t<=this.moodTop?this.activeIndex=1:t>this.moodTop&&t<=this.scenesTop?this.activeIndex=2:t>this.scenesTop&&t<=this.genreTop?this.activeIndex=3:t>this.genreTop&&t<=this.languageTop?this.activeIndex=4:t>this.languageTop&&t<=this.crowdTop?this.activeIndex=5:t>this.crowdTop&&t<=this.instrumentTop?this.activeIndex=6:t>this.instrumentTop&&(this.activeIndex=7,this.stationNavFixed=!0,this.stationNavEnd=!1,t>this.endTop&&(this.stationNavFixed=!1,this.stationNavEnd=!0))):t<=e&&(this.stationNavFixed=!1)}},setTitleTop:function(){document.querySelector("#hot")&&(this.hotTop=document.querySelector("#hot").offsetTop,this.themeTop=document.querySelector("#theme").offsetTop-400,this.moodTop=document.querySelector("#mood").offsetTop-400,this.scenesTop=document.querySelector("#scenes").offsetTop-400,this.genreTop=document.querySelector("#genre").offsetTop-400,this.languageTop=document.querySelector("#language").offsetTop-400,this.crowdTop=document.querySelector("#crowd").offsetTop-400,this.instrumentTop=document.querySelector("#instrument").offsetTop-400,this.endTop=this.instrumentTop+750)},selectCurrentTitle:function(t){this.activeIndex=t,this.stationNavEnd=!1}},computed:{},created:function(){this.fetchApi()},watch:{titleListTemp:function(){var t=this;this.titleListTemp.forEach((function(e,n){e.list.length&&n<t.titleListTemp.length-2&&t.titleList.push(e),t.$emit("contentList",t.titleList)}))},$route:function(){this.fetchApi()}},mounted:function(){document.addEventListener("scroll",this.handleScroll)},updated:function(){this.setTitleTop()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},l=c,u=n("2877"),d=Object(u["a"])(l,o,a,!1,null,null,null),h=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"radio-station-content"},t._l(t.contentList,(function(e,i){return n("div",{key:i,staticClass:"content-wrap",attrs:{id:t.idList[i]}},[n("i",{staticClass:"content-wrap-title"},[t._v(t._s(e.title))]),t._l(e.list,(function(e,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.listenNum,expression:"i.listenNum"}],key:i,staticClass:"content-info"},[n("a",{staticClass:"content-img",attrs:{href:"javascript:;"}},[n("picture-show",{attrs:{"img-url":e.pic_url}})],1),n("a",{staticClass:"content-title",attrs:{href:"javscript:;"}},[t._v(t._s(e.title))]),n("span",{staticClass:"content-listenNum"},[t._v("播放量: "),n("i",[t._v(t._s(t.numToTenThousand(e.listenNum)))])])])}))],2)})),0)},m=[],T=(n("b680"),n("d420")),f={props:{storeContent:{type:Array,require:!0}},components:{PictureShow:T["a"]},data:function(){return{contentList:[],idList:["hot","theme","mood","scenes","genre","language","crowd","instrument"]}},methods:{numToTenThousand:function(t){if(t<1e4)return t;var e=t/1e4;return e.toFixed(1)+"万"}},watch:{storeContent:function(t){this.contentList=t}}},v=f,g=Object(u["a"])(v,p,m,!1,null,null,null),w=g.exports,x=(n("d179"),{components:{RadioStationTitle:h,RadioStationContent:w},data:function(){return{storeContent:[]}},methods:{contentList:function(t){this.storeContent=t}}}),L=x,S=Object(u["a"])(L,i,s,!1,null,null,null);e["default"]=S.exports}}]);
//# sourceMappingURL=chunk-24b0553d.16a9a1aa.js.map