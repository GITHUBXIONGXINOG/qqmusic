(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c499666"],{"4f1a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category-playlist"},[s("category-title",{attrs:{changePageInfo:t.changePageInfo},on:{contentList:t.contentList}}),s("category-list",{attrs:{contentList:t.contentInfo},on:{changePage:t.changePage}})],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-list"},[a("div",{staticClass:"category-wrap"},[a("ul",{staticClass:"category-ul"},t._l(t.contentList,(function(e,i){return a("li",{key:i},[a("a",{attrs:{href:"javascript:;"}},[a("img",{staticClass:"record-img",attrs:{src:e.img,alt:""}})]),a("nav",[a("router-link",{staticClass:"img_cover_wrap",attrs:{to:"/player/"+e.content_id}},[a("img",{staticClass:"record-img-button",attrs:{src:s("254b"),alt:""}})])],1),a("div",{staticClass:"category-title"},[a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.title))])]),a("div",{staticClass:"category-name"},[a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.name))])]),a("div",{staticClass:"category-singers"},[a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.singers))])]),a("div",{staticClass:"category-listennum"},[a("i",[t._v("播放量：")]),a("i",[t._v(t._s(t.numToTenThousand(e.listennum)))])])])})),0)]),a("paging",{attrs:{pageIndex:t.currentPage,total:t.total},on:{change:t.pageChange}})],1)},r=[],c=(s("b680"),s("4f8a")),o={props:{contentList:{type:Array,require:!0}},components:{paging:c["a"]},data:function(){return{currentPage:1,total:50}},methods:{numToTenThousand:function(t){if(t<1e4)return t;var e=t/1e4;return e.toFixed(1)+"万"},pageChange:function(t){this.currentPage=t,this.$emit("changePage",this.currentPage)}},created:function(){}},l=o,d=s("2877"),u=Object(d["a"])(l,n,r,!1,null,null,null),h=u.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category-title"},[s("div",{staticClass:"title-wrap"},t._l(t.titleList,(function(e,a){return s("ul",{key:a,staticClass:"title-ul-wrap"},[s("div",{staticClass:"title-center"},[s("i",{staticClass:"title-type"},[t._v(t._s(e.type))]),s("ul",{staticClass:"title-ul",class:"title-ul-"+a},[t._l(t.showList[a],(function(e,a){return s("li",{key:a,staticClass:"title-li"},[s("i",{staticClass:"title-name",class:{"select-title":e.id==t.activeIndex.category},on:{click:function(s){return t.selectTitle(e.id,e.name)}}},[s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.name))])])])})),3!=a?s("li",{staticClass:"show-more",class:{"select-title":t.moreIndex[a]},on:{click:function(e){return e.stopPropagation(),t.clickShow(a)}}},[s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.moreInfo[a]))]),s("svg",{directives:[{name:"show",rawName:"v-show",value:!t.moreIndex[a],expression:"!moreIndex[index]"}],staticClass:"icon jiantouxia",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-jiantouxia"}})]),s("svg",{directives:[{name:"show",rawName:"v-show",value:t.moreIndex[a],expression:"moreIndex[index]"}],staticClass:"icon jiantoushang",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-jiantoushang"}})])]):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showIndex==a,expression:"showIndex==index"}],staticClass:"more-title",attrs:{id:"contextMenuBox"}},t._l(t.moreList[a],(function(e,i){return s("div",{key:i,staticClass:"title-name",class:{"select-title":e.id==t.activeIndex.category},on:{click:function(s){return t.selectTitleMore(e.id,e.name,a)}}},[s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.name))])])})),0)],2)])])})),0),s("div",{staticClass:"title-select-show"},[1e7==t.activeIndex.category?s("div",{staticClass:"title-select-default"},[t._v(" "+t._s(t.word)+" ")]):s("div",{staticClass:"title-select-info"},[t._v(" "+t._s(t.word)+" "),s("div",{staticClass:"delete-select",on:{click:t.deleteSelect}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-cuowu"}})])])]),s("div",{staticClass:"title-select-order"},[s("a",{staticClass:"order-recommend",class:{"select-order":t.orderSelect},attrs:{href:"javascript:;"},on:{click:t.selectTitleOrder}},[t._v(" 推荐 ")]),s("a",{staticClass:"order-new",class:{"select-order":!t.orderSelect},attrs:{href:"javascript:;"},on:{click:t.selectTitleOrder}},[t._v(" 最新 ")])])])])},m=[],f=(s("d81d"),s("fb6a"),s("b0c0"),s("a9e3"),s("96cf"),s("1da1")),v={props:{changePageInfo:{type:Number}},data:function(){return{titleListAll:[],titleList:[],activeIndex:{category:1e7,sort:5,pageNo:1,pageSize:20},showIndex:-1,moreList:[{}],showList:[[]],contentList:[],moreIndex:[!1,!1,!1,!1,!1],moreInfo:["更多","更多","更多","","更多"],saveSelectName:"全部歌单",orderSelect:!0}},methods:{fetchCategory:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){var a,i,n,r,c,o,l,d,u,h,g,m;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a=localStorage.getItem("titleListAll"),!a){s.next=14;break}if(a=JSON.parse(a),!((new Date).getTime()-a.time<18e5)){s.next=7;break}e.titleListAll=a.data,s.next=12;break;case 7:return i="/api/songlist/category",s.next=10,e.$http.get(i);case 10:n=s.sent,100===parseInt(n.data.result)&&(e.titleListAll=n.data.data,localStorage.setItem("titleListAll",JSON.stringify({time:(new Date).getTime(),data:n.data.data})));case 12:s.next=19;break;case 14:return r="/api/songlist/category",s.next=17,e.$http.get(r);case 17:c=s.sent,100===parseInt(c.data.result)&&(e.titleListAll=c.data.data,localStorage.setItem("titleListAll",JSON.stringify({time:(new Date).getTime(),data:c.data.data})));case 19:return o="/api/songlist/list",s.next=22,e.$http.get(o,{params:t});case 22:for(l=s.sent,e.contentList=l.data.data.list.map((function(t){return{img:t.imgurl,title:t.dissname,singers:t.creator.name,listennum:t.listennum,id:t.dissid,content_id:"content_id="+t.dissid}})),d=[5,8,8,9,8],u=e.titleListAll.length-1,e.titleList=e.titleListAll.slice(1),h=0;h<u;h++)for(e.showList[h]=new Array,e.moreList[h]=new Object,g=0,m=e.titleList[h].list.length;g<m;g++)g<d[h]?e.showList[h][g]=e.titleList[h].list[g]:e.moreList[h][g]=e.titleList[h].list[g];e.$emit("contentList",e.contentList);case 29:case"end":return s.stop()}}),s)})))()},selectTitle:function(t,e){this.activeIndex["category"]=t,this.fetchCategory(this.activeIndex),this.moreIndex=[!1,!1,!1,!1,!1],this.moreInfo=["更多","更多","更多","","更多"],this.saveSelectName=e},selectTitleMore:function(t,e,s){this.activeIndex["category"]=t,this.moreInfo=["更多","更多","更多","","更多"],this.moreInfo[s]=e,this.moreIndex=[!1,!1,!1,!1,!1],this.moreIndex[s]=!0,this.fetchCategory(this.activeIndex),this.showIndex=-1;var a=document.getElementById("contextMenuBox");a&&(a.style.display="none"),this.saveSelectName=e},deleteSelect:function(){this.activeIndex.category=1e7,this.moreIndex=[!1,!1,!1,!1,!1],this.moreInfo=["更多","更多","更多","","更多"],this.fetchCategory()},selectTitleOrder:function(){5==this.activeIndex.sort?this.activeIndex.sort=2:this.activeIndex.sort=5,this.orderSelect=!this.orderSelect,this.fetchCategory(this.activeIndex)}},created:function(){this.fetchCategory()},mounted:function(){var t=this;document.addEventListener("click",(function(e){var s=document.getElementById("contextMenuBox");s&&(s.contains(e.target)||(t.showIndex=-1))}))},computed:{clickShow:function(){return function(t){t==this.showIndex?this.showIndex=-1:this.showIndex=t}},word:function(){return 1e7==this.activeIndex.category?"全部歌单":this.saveSelectName}},watch:{changePageInfo:function(t){this.activeIndex.pageNo=t,this.fetchCategory(this.activeIndex)},$route:function(){var t=this;this.$nextTick((function(){t.fetchCategory()}))}}},x=v,p=Object(d["a"])(x,g,m,!1,null,null,null),I=p.exports,w=(s("dd0b"),{components:{categoryList:h,categoryTitle:I},data:function(){return{contentInfo:[],changePageInfo:1}},methods:{contentList:function(t){this.contentInfo=t},changePage:function(t){this.changePageInfo=t}}}),y=w,C=Object(d["a"])(y,a,i,!1,null,null,null);e["default"]=C.exports},dd0b:function(t,e,s){}}]);
//# sourceMappingURL=chunk-6c499666.7e7ed4a3.js.map