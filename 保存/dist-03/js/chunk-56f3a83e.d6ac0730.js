(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56f3a83e"],{"97ed":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rank"},[n("div",{staticClass:"rank-in-wrap"},[n("rank-title",{attrs:{currentPage:t.storageCurrentPage},on:{"res-content-list":t.contentList,"res-comment-list":t.commentList}}),n("rank-content",{attrs:{contentList:t.storageList}}),n("rank-comment",{attrs:{commentList:t.storageComment},on:{change:t.changePage}})],1)])},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rank-title"},[n("div",{staticClass:"title-out-wrap"},t._l(t.resTitleList,(function(e,i){return n("div",{key:i,staticClass:"title-wrap"},[n("ul",{staticClass:"title-ul"},[n("i",{staticClass:"title-li-title"},[t._v(t._s(e.title))]),t._l(e.list,(function(e,i){return n("li",{key:i,staticClass:"title-li"},[n("a",{class:{"select-title":e.topId==t.activeIndex.id},attrs:{href:"javascript:;"},on:{click:function(n){return t.selectTitle(e.topId)}}},[t._v(t._s(e.label))])])}))],2)])})),0)])},r=[],o=(n("99af"),n("d81d"),n("a9e3"),n("5530")),c=(n("96cf"),n("1da1")),l={props:{currentPage:{type:Number,default:1}},data:function(){return{resTitleList:[],activeIndex:{id:4,pageSize:20},resContentList:[],pageNo:1}},methods:{fetchApi:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i,a,s,r,c,l,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i="/api/top/category",n.next=3,e.$http.get(i);case 3:return a=n.sent,e.resTitleList=a.data.data.map((function(t){return{title:t.title,list:t.list}})),s="/api/top",t||(t={id:4,pageSize:20}),n.next=9,e.$http.get(s,{params:t});case 9:return r=n.sent,c=r.data.data.list.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{rankmid:"albummid="+t.albumMid})})),r.data.data.list=c,e.resContentList=r.data.data,l="/api/comment?biztype=4&pageSize=25&id=".concat(e.activeIndex.id,"&pageNo=").concat(e.pageNo),n.next=16,e.$http.get(l);case 16:u=n.sent,d=u.data.data.comment,e.resContentList.commenttotal=u.data.data.comment.commenttotal,e.$emit("res-content-list",e.resContentList),e.$emit("res-comment-list",d);case 21:case"end":return n.stop()}}),n)})))()},selectTitle:function(t){this.activeIndex.id=t,this.fetchApi(this.activeIndex)}},created:function(){this.fetchApi()},watch:{currentPage:function(t){this.pageNo=t,this.fetchApi()}}},u=l,d=n("2877"),m=Object(d["a"])(u,s,r,!1,null,null,null),p=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rank-content"},[n("div",{staticClass:"header-wrap"},[n("nav",{staticClass:"title-wrap"},[t.contentList.info?n("div",{staticClass:"title-info"},[t._v(" "+t._s(t.contentList.info.title)+" ")]):t._e(),n("i",{staticClass:"update-time"},[t._v(t._s(t.contentList.update))]),n("div",{staticClass:"title-rule"},[n("i",{on:{click:function(e){return e.stopPropagation(),t.clickListRule(e)}}},[t._v("榜单规则")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ruleActive,expression:"ruleActive"}],staticClass:"rule-info",attrs:{id:"ruleShowBox"}},[n("i",[t._v("榜单规则")]),n("div",{staticClass:"rule-word",domProps:{innerHTML:t._s(t.ruleMsg)}})])])]),n("ul",{staticClass:"userOpera"},t._l(t.userOperating,(function(e,i){return n("a",{key:i,attrs:{href:""+t.userOperaUrl[i]}},[n("span",{class:["iconfont ",""+t.iconList[i]]}),n("span",[t._v(" "+t._s(e)+" "),4==i?n("i",[t._v("("+t._s(t.contentList.commenttotal)+")")]):t._e()])])})),0)]),n("div",{staticClass:"rank-wrap"},[n("ul",{staticClass:"content-nav-ul"},t._l(t.contentNav,(function(e,i){return n("li",{key:i,class:"nav-li-"+i},[t._v(" "+t._s(e)+" ")])})),0),n("div",{staticClass:"rank-info"},t._l(t.storageContent,(function(e,i){return n("ul",{key:i,staticClass:"rank-info-ul"},[n("li",{staticClass:"rank-info-li"},[n("i",{staticClass:"rank-num",class:{"rank-num-top":i<3}},[t._v(t._s(e.rank))]),n("span",{staticClass:"rank-value"},[n("i",{class:["iconfont",""+t.rankInfo(e.rankValue)]}),n("i",[t._v(t._s(e.rankValue))])]),n("span",{staticClass:"song-title-wrap",on:{mouseenter:function(e){return t.OperateChange(i)},mouseleave:t.OperateChange}},[n("img",{attrs:{src:e.img,alt:""}}),n("i",{staticClass:"song-title"},[n("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.title))])]),n("i",{directives:[{name:"show",rawName:"v-show",value:e.isonly,expression:"item.isonly"}],staticClass:"song-isonly iconfont icon-dujia",attrs:{title:"独家"}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.ismv,expression:"item.ismv"}],staticClass:"song-ismv iconfont icon-MV",attrs:{title:"MV"}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.isvip,expression:"item.isvip"}],staticClass:"song-isvip iconfont icon-VIP",attrs:{title:"vip"}}),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.songOperatingShow==i,expression:"songOperatingShow==index"}],staticClass:"song-operating"},[n("router-link",{attrs:{to:"/player/"+e.rankmid,tag:"li"}},[n("i",{staticClass:"iconfont icon-bofang2"})]),t._l(t.operatingList,(function(t){return n("li",[n("i",{class:["iconfont","icon-"+t]})])}))],2)]),n("i",{staticClass:"rank-singername"},[n("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.singerName))])]),n("i",{staticClass:"rank-time"},[t._v(t._s(t.songTime(e.interval)))])])])})),0)])])},v=[],f=(n("b0c0"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),{props:{contentList:{type:Object,require:!0}},data:function(){return{tempContent:[],storageContent:[],ruleActive:!1,ruleMsg:"",userOperating:["播放全部","添加到","下载","批量操作","评论"],iconList:["icon-bofang2","icon-jiatianjiakuangxuanduoxuan-8","icon-xiazai","icon-piliangxiugai","icon-pinglun"],contentNav:["歌曲","歌手","时长"],operatingList:["jia","xiazai","fenxiang"],userOperaUrl:["javascript:;","javascript:;","javascript:;","javascript:;","#rank-comment"],songOperatingShow:""}},methods:{setContent:function(){this.storageContent=this.tempContent.list.map((function(t){return{rank:t.rank,rankValue:t.rankValue,img:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(t.albumMid,".jpg"),title:t.title,isonly:t.isonly,ismv:t.mv.id,isvip:t.vip,singerName:t.singerName,interval:t.interval,aid:t.aid,album:t.album,file:t.file,fnote:t.fnote,id:t.id,index_album:t.index_album,index_cd:t.index_cd,ksong:t.ksong,label:t.label,language:t.language,mv:t.mv,name:t.name,pay:t.pay,singer:t.singer,singerMid:t.singerMid,songId:t.songId,time_public:t.time_public,rankmid:t.rankmid}}))},clickListRule:function(){this.ruleActive=!this.ruleActive,this.ruleMsg=this.contentList.info.desc},OperateChange:function(t){this.songOperatingShow=t||""}},computed:{songTime:function(){return function(t){var e=Math.floor(t/60),n=t%60;return e+="",n+="",e=1==e.length?"0"+e:e,n=1==n.length?"0"+n:n,e+":"+n}},rankInfo:function(){return function(t){var e=new RegExp("%$");return t.match(e)?"icon-diag_up":t<0?"icon-jiantouxia1":0==t?"icon-heng":"icon-jiantoushang1"}}},created:function(){},mounted:function(){var t=this;document.addEventListener("click",(function(e){var n=document.getElementById("ruleShowBox");n&&(n.contains(e.target)||(t.ruleActive=!1))}))},watch:{contentList:function(){this.contentList&&(this.tempContent=this.contentList,this.setContent())}}}),h=f,C=Object(d["a"])(h,g,v,!1,null,null,null),k=C.exports,_=n("945c"),w=(n("ecdc"),{data:function(){return{storageList:{},storageComment:{},storageCurrentPage:1}},components:{RankTitle:p,RankContent:k,RankComment:_["a"]},methods:{contentList:function(t){t&&(this.storageList=t)},commentList:function(t){this.storageComment=t},changePage:function(t){this.storageCurrentPage=t}}}),x=w,L=Object(d["a"])(x,i,a,!1,null,null,null);e["default"]=L.exports},"99af":function(t,e,n){"use strict";var i=n("23e7"),a=n("d039"),s=n("e8b5"),r=n("861d"),o=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),m=n("b622"),p=n("2d00"),g=m("isConcatSpreadable"),v=9007199254740991,f="Maximum allowed index exceeded",h=p>=51||!a((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),C=d("concat"),k=function(t){if(!r(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)},_=!h||!C;i({target:"Array",proto:!0,forced:_},{concat:function(t){var e,n,i,a,s,r=o(this),d=u(r,0),m=0;for(e=-1,i=arguments.length;e<i;e++)if(s=-1===e?r:arguments[e],k(s)){if(a=c(s.length),m+a>v)throw TypeError(f);for(n=0;n<a;n++,m++)n in s&&l(d,m,s[n])}else{if(m>=v)throw TypeError(f);l(d,m++,s)}return d.length=m,d}})},ecdc:function(t,e,n){}}]);
//# sourceMappingURL=chunk-56f3a83e.d6ac0730.js.map